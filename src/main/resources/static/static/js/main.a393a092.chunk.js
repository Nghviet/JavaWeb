(this.webpackJsonpwebview=this.webpackJsonpwebview||[]).push([[0],{16:function(e,t,a){e.exports=a.p+"static/media/navbar_friend.4f696783.png"},17:function(e,t,a){e.exports=a.p+"static/media/navbar_group.d7efa3ee.svg"},33:function(e,t,a){e.exports=a.p+"static/media/navbar_home.eb127de0.png"},34:function(e,t,a){e.exports=a.p+"static/media/general_background.6ff1cfa6.jpg"},37:function(e,t,a){e.exports=a(75)},42:function(e,t,a){},43:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},44:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(31),r=a.n(c),s=(a(42),a(8)),o=a(9),i=a(11),m=a(10),u=a(13),d=a(1),p=(a(43),a(44),a(32)),f=a.n(p).a.create({baseURL:"http://localhost:8080",timeout:1e3,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});f.interceptors.request.use((function(e){var t=localStorage.Auth;return e.headers.Authorization=t?"Basic ".concat(t):"",e}));var E=f,g=a(3);a(62);function v(e){var t=Object(n.useState)(0),a=Object(g.a)(t,2);a[0],a[1];return l.a.createElement("div",{className:"w3-container container"},l.a.createElement("div",{className:"intro"},l.a.createElement("h2",null," Nh\xf3m 12 - M\u1ea1ng x\xe3 h\u1ed9i "),l.a.createElement("p",null,"1 m\u1ea1ng x\xe3 h\u1ed9i thu nh\u1ecf \u0111\u01b0\u1ee3c 1 nh\xf3m h\u1ecdc sinh")),l.a.createElement("div",{className:"form_display"},l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),localStorage.setItem("Auth",window.btoa(t.target.email.value+":"+t.target.password.value)),E.get("/api/login").then((function(t){return e.loggedIn()})).catch((function(e){return localStorage.clear()}))},id:"login_form"},l.a.createElement("input",{className:"login_input",type:"email",name:"email",placeholder:"Enter email"}),l.a.createElement("br",null),l.a.createElement("input",{className:"login_input",type:"password",name:"password",placeholder:"Enter password"}),l.a.createElement("button",{className:"w3-button w3-block w3-green w3-section w3-padding",type:"submit",id:"login_button"},"Sign In")),l.a.createElement("button",{onClick:function(e){e.preventDefault(),document.getElementById("signup").style.display="block"},className:"w3-button w3-green w3-large",id:"signup_button"},"Sign Up"),l.a.createElement("div",{id:"signup",className:"w3-modal"},l.a.createElement("div",{className:"w3-modal-content w3-card-4 w3-animate-zoom",id:"signup_display"},l.a.createElement("div",{className:"w3-center"},l.a.createElement("br",null),l.a.createElement("span",{onClick:function(e){document.getElementById("signup").style.display="none"},className:"w3-button w3-xlarge w3-transparent w3-display-topright",title:"Close Modal"},"\xd7")),l.a.createElement("form",{className:"w3-form",id:"signup_form_submit",onSubmit:function(e){e.preventDefault(),e.persist(),E.post("/api/signup",{name:e.target.fullname.value,email:e.target.email.value,password:e.target.password.value}).then((function(t){"OK"==t.data&&(localStorage.Auth=window.btoa(e.target.email.value+":"+e.target.password.value),window.location.pathname="/")})).catch((function(e){document.getElementById("signup").style.display="none"}))}},l.a.createElement("div",{className:"w3-section"},l.a.createElement("label",null,l.a.createElement("b",null,"Full name")),l.a.createElement("input",{className:"w3-input w3-border w3-margin-bottom signup_input",type:"text",placeholder:"Enter Full name",name:"fullname",required:!0}),l.a.createElement("label",null,l.a.createElement("b",null,"Email")),l.a.createElement("input",{className:"w3-input w3-border w3-margin-bottom signup_input",type:"email",placeholder:"Enter Email",name:"email",required:!0}),l.a.createElement("label",null,l.a.createElement("b",null,"Password")),l.a.createElement("input",{className:"w3-input w3-border signup_input",type:"password",placeholder:"Enter Password",name:"password",required:!0})),l.a.createElement("div",{className:"w3-section"},l.a.createElement("button",{className:"w3-button w3-block w3-green w3-section w3-padding",id:"signup_button",type:"submit"},"Sign Up")))))))}a(63),a(64);var h=a(33),b=a.n(h),_=a(16),w=a.n(_),y=a(17),N=a.n(y);function k(e){var t=window.location.pathname,a={},n={},c={};"/"==t&&(a={borderBottom:"5px solid red"}),(t.startsWith("/friend")||t.startsWith("/profile"))&&(n={borderBottom:"5px solid red"}),t.startsWith("/group")&&(c={borderBottom:"5px solid red"});return l.a.createElement("div",{className:"w3-top navbar"},l.a.createElement("div",{className:"left"},l.a.createElement("label",{className:"navbar_search_label"},l.a.createElement("form",{className:"navbar_search_form",onSubmit:function(e){e.preventDefault(),console.log(e.target.query.value),window.location.pathname="/search/q="+e.target.query.value.replace(" ","+")}},l.a.createElement("input",{type:"text",name:"query",className:"navbar_search"})))),l.a.createElement("div",{className:"middle"},l.a.createElement("div",{className:"middle_button",id:"navbar_home",style:a},l.a.createElement("a",{className:"navbar_item",href:"/"},l.a.createElement("img",{src:b.a,className:"navbar_img"}))),l.a.createElement("div",{className:"middle_button",id:"navbar_friend",style:n},l.a.createElement("a",{className:"navbar_item",href:"/friend"},l.a.createElement("img",{src:w.a,className:"navbar_img"}))),l.a.createElement("div",{className:"middle_button",id:"navbar_group",style:c},l.a.createElement("a",{className:"navbar_item",href:"/group"},l.a.createElement("img",{src:N.a,className:"navbar_img"})))),l.a.createElement("div",{className:"right"},l.a.createElement("div",{className:"right_flex"}),l.a.createElement("div",{className:"right_flex"},l.a.createElement("button",{className:"w3-button logout_button",onClick:function(t){e.logout()}}," Log out"))))}a(65);var S=a(15);function C(e){var t=e.comment.user,a=e.comment.data,n="/user/"+t.id;return l.a.createElement("div",null,l.a.createElement("div",{className:"post_header"},l.a.createElement("a",{href:n},l.a.createElement("span",{className:"post_span"},t.name))),l.a.createElement("div",{className:"post_content"},a))}var j=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){E.get("/api/comment/"+n.state.postID).then((function(e){n.setState({comments:e.data})})).catch((function(e){throw e}))},n.onComment=function(e){e.preventDefault(),console.log("Called"),E.post("/api/comment/"+n.state.postID,{data:e.target.comment_text.value}).then((function(e){document.getElementById("comment_text").value="";var t=n.state.news;e.data[0].id=t.length,t.unshift(e.data[0]),n.setState({news:t})})).catch((function(e){console.log(e)}))},n.state={postID:e.postid,comments:[],news:[]},n.onComment=n.onComment.bind(Object(S.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e="comment_display_"+this.state.postID;return l.a.createElement("div",{id:e},l.a.createElement("form",{onSubmit:this.onComment},l.a.createElement("textarea",{id:"comment_text",rows:"1",cols:"60"}),l.a.createElement("button",{type:"submit"},"Comment")),this.state.news.map((function(e){return l.a.createElement(C,{key:e.id,comment:e})})),this.state.comments.map((function(e){return l.a.createElement(C,{key:e.id,comment:e})})))}}]),a}(n.Component);function O(e){var t=e.post;console.log(t);var a=t.user,n=l.a.useState(!1),c=Object(g.a)(n,2),r=c[0],s=c[1],o="/user/"+a.id,i="post_like";t.reacted&&(i+=" post_like_true");var m="post_id_"+t.id;return l.a.createElement("div",{className:"post_display",id:m},l.a.createElement("div",{className:"post_header"},l.a.createElement("a",{href:o},l.a.createElement("span",{className:"post_span"},a.name)),null==t.group?null:l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"post_span"},"  \u25b6 "),l.a.createElement("a",null,l.a.createElement("span",{className:"post_span"},t.group)))),l.a.createElement("div",{className:"post_content"},t.data),l.a.createElement("div",{className:"post_action"},l.a.createElement("div",{className:i,onClick:function(e){e.persist(),0==t.reacted?E.post("/api/like/"+t.id).then((function(a){t.reacted=!0,e.target.classList.add("post_like_true")})).catch((function(e){return console.log(e)})):E.post("/api/unlike/"+t.id).then((function(a){t.reacted=!1,e.target.classList.remove("post_like_true")})).catch((function(e){return console.log(e)}))}},l.a.createElement("span",null,"Like")),l.a.createElement("div",{className:"post_comment",onClick:function(e){console.log("Called"),s(!0)}},l.a.createElement("span",null,"Comment"))),0==r?null:l.a.createElement(l.a.Fragment,null,l.a.createElement(j,{postid:t.id})))}var q=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onClickpost=function(e){e.preventDefault(),document.getElementById("post_form_div").style.display="block"},n.onClosepost=function(e){e.preventDefault(),document.getElementById("post_form_div").style.display="none"},n.onPostSubmit=function(e){e.preventDefault(),E.post("/api/post",{post:e.target.post_text.value}).then((function(e){console.log(e),document.getElementById("post_form_div").value="",document.getElementById("post_form_div").style.display="none"})).catch((function(e){document.getElementById("post_form_div").value="",document.getElementById("post_form_div").style.display="none"}))},n.state={posts:[],newPost:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.get("http://localhost:8080/api/posts",{from:0,to:10}).then((function(t){console.log(t),e.setState({posts:t.data})})).catch((function(e){}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{id:"post_section"},l.a.createElement("div",{id:"post_avatar"}),l.a.createElement("div",{id:"post_button",onClick:this.onClickpost},l.a.createElement("span",null," Ban dang nghi gi, muon chia se khong"))),l.a.createElement("div",{id:"post_form_div",className:"w3-modal"},l.a.createElement("div",{className:"w3-modal-content w3-card-4 w3-animate-zoom",id:"signup_display"},l.a.createElement("div",{className:"w3-center"},l.a.createElement("br",null),l.a.createElement("b",null,"Tao bai viet moi"),l.a.createElement("span",{onClick:this.onClosepost,className:"w3-button w3-xlarge w3-transparent w3-display-topright"},"\xd7"),l.a.createElement("br",null)),l.a.createElement("form",{className:"w3-form",id:"post_form",onSubmit:this.onPostSubmit},l.a.createElement("div",{className:"w3-section"},l.a.createElement("textarea",{type:"textbox",id:"post_text",placeholder:"Ban dang nghi gi, muon chia se ko"})),l.a.createElement("div",{className:"w3-section"},l.a.createElement("button",{className:"w3-button w3-block w3-green w3-section w3-padding",id:"post_submit",type:"submit"},"Post"))))),this.state.posts.map((function(e){return l.a.createElement(O,{key:e.id,post:e})})))}}]),a}(n.Component);a(66);function x(e){return l.a.createElement("div",{className:"newsfeed"},l.a.createElement("div",{className:"newsfeed_left"},l.a.createElement("div",{className:"newsfeed_menu_item",onClick:function(){document.location.href="/friend"}},l.a.createElement("img",{src:w.a,className:"newsfeed_img"}),l.a.createElement("div",{className:"newsfeed_menu_item_des"}," Friends ")),l.a.createElement("div",{className:"newsfeed_menu_item",onClick:function(){document.location.href="/group"}},l.a.createElement("img",{src:N.a,className:"newsfeed_img"}),l.a.createElement("div",{className:"newsfeed_menu_item_des"}," Groups "))),l.a.createElement("div",{className:"newsfeed_center"},l.a.createElement(q,null)),l.a.createElement("div",{className:"newsfeed_right"}))}a(67);var D=a(34),I=a.n(D),B=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(s.a)(this,a),n=t.call(this,e);var l=null;return l=void 0==e.match?e.id:e.match.params.id,n.state={id:l,posts:[],user:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.get("/api/userpost/"+this.state.id).then((function(t){console.log(t),e.setState({posts:t.data})})).catch((function(e){})),E.get("/api/user/"+this.state.id).then((function(t){console.log(t),e.setState({user:t.data})})).catch((function(e){}))}},{key:"render",value:function(){return null==this.state.user?null:l.a.createElement("div",{className:"user"},l.a.createElement("div",{className:"user_header"},l.a.createElement("img",{className:"background_img",src:I.a}),l.a.createElement("h2",null,this.state.user.name)),l.a.createElement("div",{className:"user_container"},l.a.createElement("div",{className:"user_left"}),l.a.createElement("div",{className:"user_center"},this.state.posts.map((function(e){return l.a.createElement(O,{key:e.id,post:e})}))),l.a.createElement("div",{className:"user_right"})))}}]),a}(n.Component);a(68);function F(e){var t=e.type,a=e.user,n=l.a.useState(!1),c=Object(g.a)(n,2),r=c[0],s=(c[1],0==r?1==t?"Accept":"Send request":1==t?"Accepted":"Sent"),o="friendtag_"+t+"_"+a.id,i=null;return"1"==t&&(i=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"friendtag_button_1",onClick:function(e){e.preventDefault(),E.post("/api/acceptFriendReq",{from:a.id}).then((function(e){document.getElementById(o).style.display="none"})).catch((function(e){}))}},l.a.createElement("span",null," ",s)),l.a.createElement("div",{className:"friendtag_button_1",onClick:function(e){e.preventDefault(),E.post("/api/removeFriendReq",{from:a.id}).then((function(e){document.getElementById(o).style.display="none"})).catch((function(e){}))}},l.a.createElement("span",null," Remove ")))),l.a.createElement("div",{className:"friendtag_container",id:o},l.a.createElement("h2",{onClick:function(t){t.preventDefault(),e.setDisplay(a.id)}},l.a.createElement("span",{className:"friendtag_h2"},a.name)),l.a.createElement("div",{className:"friendtag_button"},i))}function A(e){var t=l.a.useState(null),a=Object(g.a)(t,2),c=a[0],r=a[1],s=l.a.useState(null),o=Object(g.a)(s,2),i=o[0],m=o[1],u=l.a.useState(null),d=Object(g.a)(u,2),p=d[0],f=d[1];if(Object(n.useEffect)((function(){E.get("/api/getFriendReqs").then((function(e){""==e.data?r([]):r(e.data)})).catch((function(e){r([])})),E.get("/api/getFriends").then((function(e){console.log(e),""==e.data?f([]):f(e.data)})).catch((function(e){f([])}))}),[]),null==c||null==p)return null;var v="user_id_"+i,h=null==i?null:l.a.createElement(B,{key:v,id:i});return l.a.createElement("div",{className:"friend_container"},l.a.createElement("div",{className:"friend_left"},l.a.createElement("h3",null," Friend list"),p.map((function(e){return l.a.createElement(F,{key:e.id,type:"2",user:e,setDisplay:m})})),l.a.createElement("h3",null," Friend request "),c.map((function(e){return l.a.createElement(F,{key:e.id,type:"1",user:e,setDisplay:m})}))),l.a.createElement("div",{className:"friend_main"},h))}a(69);function R(e){console.log(e.user),console.log(e.type);var t=l.a.useState(!1),a=Object(g.a)(t,2),n=a[0],c=a[1],r="/user/"+e.user.id,s="searchtab_user_"+e.user.id,o=null;return 2==e.type&&0==e.user.requested&&0==e.user.received&&(o=l.a.createElement("button",{className:"btn btn-light",onClick:function(t){t.preventDefault(),E.post("/api/sendFriendReq",{to:e.user.id}).then((function(t){e.user.requested=!0,c(!n)})).catch((function(e){}))}}," Send request ")),2==e.type&&1==e.user.received&&(o=l.a.createElement("button",{className:"btn btn-primary",onClick:function(t){t.preventDefault(),E.post("/api/acceptFriendReq",{from:e.user.id}).then((function(e){console.log(document.getElementById(s)),document.getElementById(s).style.display="none",console.log(e)})).catch((function(e){}))}}," Accept request ")),2==e.type&&1==e.user.requested&&(o=l.a.createElement("button",{className:"btn btn-primary",onClick:function(t){t.preventDefault(),E.post("/api/cancelFriendReq",{to:e.user.id}).then((function(t){e.user.requested=!1,c(!n)}))}}," Sent ")),l.a.createElement("div",{id:s,className:"searchtab"},l.a.createElement("div",{className:"searchtab_avatar"}),l.a.createElement("div",{className:"searchtab_display"},l.a.createElement("h4",null,l.a.createElement("a",{href:r},l.a.createElement("span",null,e.user.name)," "),"  ")),l.a.createElement("div",{className:"searchtab_action"},o))}function M(e){console.log(e.match.params.querry);var t=e.match.params.querry,a=l.a.useState(null),c=Object(g.a)(a,2),r=c[0],s=c[1],o=l.a.useState(null),i=Object(g.a)(o,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){E.get("/api/search/friend/"+t,{querry:t}).then((function(e){console.log(e.data),s(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(n.useEffect)((function(){E.get("/api/search/nonfriend/"+t,{querry:t}).then((function(e){u(e.data),console.log(e.data)})).catch((function(e){return console.log(e)}))}),[]),null==r||null==m?null:l.a.createElement("div",{className:"search_display"},l.a.createElement("div",{className:"search_left"}),l.a.createElement("div",{className:"search_main"},l.a.createElement("div",null,l.a.createElement("h2",null," Friend "),r.map((function(e){return l.a.createElement(R,{key:e.id,user:e,type:1})}))),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("h2",null," Everyone "),m.map((function(e){return l.a.createElement(R,{key:e.id,user:e,type:2})})))))}function P(e){return l.a.createElement(u.a,null,l.a.createElement(k,{logout:e.logout}),l.a.createElement("div",{className:"homepage_main"},l.a.createElement(d.d,null,l.a.createElement(d.b,{exact:!0,path:"/"},l.a.createElement(x,null)),l.a.createElement(d.b,{path:"/user/:id",component:B}),l.a.createElement(d.b,{path:"/friend",component:A}),l.a.createElement(d.b,{path:"/search/q=:querry",component:M}))))}var L=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).logout=function(){n.setState({logged:!1}),localStorage.clear()},n.login=function(){n.setState({logged:!0})},n.state={logged:!1},n}return Object(o.a)(a,[{key:"render",value:function(){return null==localStorage.Auth?l.a.createElement(u.a,null,l.a.createElement(d.a,{to:"/"}),l.a.createElement(v,{loggedIn:this.login})):l.a.createElement(P,{logout:this.logout})}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.a393a092.chunk.js.map